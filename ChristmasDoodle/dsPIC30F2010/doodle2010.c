/* Template source file generation only partially implemented. */
/* ----------------------------------------------------------------------- */
/* Template source file generated by piklab */
#include <p30F2010.h>

/* ----------------------------------------------------------------------- */
/* Configuration bits: adapt to your setup and needs */
_FOSC(XT_PLL4 & CSW_FSCM_OFF);
_FWDT(WDTPSB_16 & WDTPSA_512 & WDT_OFF);
_FBORPOR(PWRT_64 & BORV_27 & PBOR_OFF & PWMxL_ACT_HI & PWMxH_ACT_HI & RST_IOPIN & MCLR_EN);

#define DELAY 100000

static unsigned char states[] = {
	0x03,0x0d,0x06,0x0d,0x8f,0xd5,0xda,0xfa, /* 0x07 */
	0x68,0x10,0x7d,0x5d,0xa8,0x85,0xa2,0x27, /* 0x0f */
	0x80,0x8f,0xdf,0x50,0x1a,0x58,0x56,0x7f, /* 0x17 */
	0x75,0x6b,0xbb,0xdb,0xdf,0x45,0x0e,0x2b, /* 0x1f */
	0x24,0x4d,0x79,0xb8,0xf5,0xd5,0xa7,0xa3, /* 0x27 */
	0xbf,0xfc,0x58,0x70,0x3a,0x7b,0xd9,0xc6, /* 0x2f */
	0xc5,0x8f,0xdd,0x5e,0x7e,0x6c,0xff,0xf7, /* 0x37 */
	0x46,0xcd,0xcf,0x46,0x4f,0x67,0x7f,0xfe, /* 0x3f */
	0xf6,0xf6,0x76,0xff,0xff,0x6e,0x6f,0x7f, /* 0x47 */
	0xfe,0xff,0xff,0xee,0xef,0xef,0xff,0xff  /* 0x4f */
};

void dawdle( long n )
{
	long j,k;

	for ( j=0; j<n; j++ )
		k++;
}

int main()
{
	int i;

	TRISE=0xfff0;
	LATE=0xf;

	while (1)
	{
		dawdle( DELAY );
		for ( i=0; i<0x50; i++ )
		{
			LATE=(states[i]>>4) & 0x0f;
			dawdle( DELAY );
			LATE = states[i] & 0x0f;
			dawdle( DELAY );
		}
		dawdle( DELAY );
	}
	return 0;
}
